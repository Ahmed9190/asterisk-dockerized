;============================================================================
; PJSIP Transport Configuration
;============================================================================

[transport-udp]
type=transport
protocol=udp
bind=0.0.0.0:5060

[transport-wss]
type=transport
protocol=wss
bind=0.0.0.0:8089
cert_file=/etc/asterisk/keys/asterisk-cert.pem
priv_key_file=/etc/asterisk/keys/asterisk-key.pem

;============================================================================
; WebRTC Endpoint Template
;============================================================================

[webrtc](!)
type=endpoint
transport=transport-wss
context=from-internal
disallow=all
allow=opus
allow=ulaw
allow=h264
webrtc=yes
use_avpf=yes
media_encryption=dtls
dtls_auto_generate_cert=yes
dtls_verify=fingerprint
dtls_setup=actpass
ice_support=yes
direct_media=no
rtp_symmetric=yes
force_rport=yes
rewrite_contact=yes

;============================================================================
; Test Endpoints
;============================================================================

[6001](webrtc)
auth=auth6001
aors=6001

[auth6001]
type=auth
auth_type=userpass
username=6001
password=SecurePass123

[6001]
type=aor
max_contacts=5

[6002](webrtc)
auth=auth6002
aors=6002

[auth6002]
type=auth
auth_type=userpass
username=6002
password=SecurePass123

[6002]
type=aor
max_contacts=5
